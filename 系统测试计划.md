# 系统测试计划

## 1. 测试目标
- 验证所有核心功能是否正常工作
- 确保模块间协作顺畅
- 识别并修复潜在问题
- 确保代码质量和性能符合要求

## 2. 测试范围
### 2.1 API层测试
| 端点 | 功能描述 | 测试方法 | 预期结果 |
|------|----------|----------|----------|
| `/autokg/extract-entities` | 提取文本实体 | POST请求 | 返回实体列表和总数 |
| `/autokg/extract-relations` | 提取文本关系 | POST请求 | 返回关系列表和总数 |
| `/autokg/process-text` | 处理文本 | POST请求 | 返回实体、关系和三元组 |
| `/autokg/process-news` | 处理新闻 | POST请求 | 返回新闻ID和处理结果 |
| `/autokg/bulk-process` | 批量处理 | POST请求 | 返回批量处理结果 |

### 2.2 服务层测试
- AutoKGService所有方法
- NewsProcessingService所有方法

### 2.3 数据层测试
- 实体表CRUD
- 关系表CRUD
- 新闻表CRUD

## 3. 测试数据准备
### 3.1 测试用例1：汽车新闻
```json
{
  "title": "特斯拉发布新款Model Y车型",
  "content": "特斯拉今天宣布发布新款Model Y车型，该车型配备了更强大的电池和更长的续航里程。特斯拉CEO埃隆·马斯克表示，这款新车将在2024年下半年开始交付。",
  "source_url": "https://example.com/news/tesla-model-y",
  "publish_date": "2024-05-20T14:30:00Z",
  "source": "科技新闻",
  "author": "张三"
}
```

### 3.2 测试用例2：航天新闻
```json
{
  "title": "中国空间站完成第四次舱外活动",
  "content": "中国航天员今天成功完成了第四次舱外活动，主要任务是安装新的实验设备和维护空间站。这是中国空间站建设的重要里程碑。",
  "source_url": "https://example.com/news/space-station",
  "publish_date": "2024-05-19T10:00:00Z",
  "source": "航天新闻",
  "author": "李四"
}
```

## 4. 测试执行步骤
1. 启动FastAPI服务
2. 执行API端点测试
3. 执行服务层测试
4. 执行数据层测试
5. 执行错误处理测试
6. 执行性能测试

## 5. 测试工具
- HTTPX：API测试
- Pytest：单元测试和集成测试
- 日志分析：问题追踪

## 6. 测试指标
- 响应时间：< 5秒
- 成功率：100%
- 数据准确性：> 90%
- 错误率：< 5%

## 7. 预期成果
- 完整的测试报告
- 修复后的问题列表
- 优化后的代码
- 确保所有功能正常运行
