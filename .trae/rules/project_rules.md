# Python后端项目开发规则

## 项目概述
遵循模块化、可维护、高性能的开发原则。

## 开发经验积累
- 对开发中遇到的问题，总结为经验，生成经验文档code_experience.md，需要时进行查找

## 项目特定规则（优先级最高）
- 本项目使用 **Python 3.10+**，请确保所有代码兼容此版本
- 数据库操作必须使用**异步方式**，禁止同步操作
- API响应统一使用JSON格式，遵循统一的响应结构
- 所有环境配置必须通过环境变量管理，禁止硬编码
- 运行python使用python3命令行
- 优先使用最新的依赖包
- 使用虚拟环境venv来启动程序
- 深度思考所有方案后，在输出最优代码
- 保持模块独立性，大厂开发规范
- 超过500行的文件需要进行拆分
- 对代码有严格的洁癖，不允许使用任何形式的魔法值或硬编码
- 所有代码必须经过严格的测试，包括单元测试、集成测试和端到端测试

### 核心开发规范
- **项目结构规范**：`trae_rules/project_structure.md`  
  **生效范围**：架构设计 / 模块设计
- **项目结构规范**：`trae_rules/project_structure.md`  
  **生效范围**：所有模块目录结构、文件命名与分层设计
- **代码风格指南**：`trae_rules/coding_style.md`  
  **生效范围**：Python 代码编写、命名、注释与格式化
- **数据库操作规范**：`trae_rules/database.md`  
  **生效范围**：所有数据库模型、迁移与查询逻辑
- **LLM 操作规范**：`trae_rules/llm.md`  
  **生效范围**：大模型调用、提示词管理与结果缓存
- **API 设计标准**：`trae_rules/api_design.md`  
  **生效范围**：RESTful 接口路径、请求响应格式与错误处理
- **架构设计规范**：`trae_rules/design.md`  
  **生效范围**：服务分层、依赖注入与接口抽象
- **代码 Review 与去重规范**：`trae_rules/review_code.md`  
  **生效范围**：合并请求、重复代码检测与重构建议
- **FastAPI 框架规范**：`trae_rules/fastapi.md`  
  **生效范围**：路由注册、中间件、异常处理与生命周期管理
- **前端开发规范**：`trae_rules/frontend.md`  
  **生效范围**：HTML、CSS、JavaScript 代码编写与组件设计

**备注** trae_rules 目录在代码根目录上，按需进行加载。

## 编码规范
- 优先考虑设计模式开发
